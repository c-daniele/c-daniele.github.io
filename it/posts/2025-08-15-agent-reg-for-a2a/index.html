<!doctype html><html lang=en-IT><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A - Cdani's Blog</title><meta name=Description content="Cdani's Blog"><meta property="og:url" content="https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/"><meta property="og:site_name" content="Cdani's Blog"><meta property="og:title" content="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A"><meta property="og:description" content="Introduzione Tra una cosa e l‚Äôaltra, in queste incandescenti giornate di agosto, ne ho approfittato per leggere bene la specifica del protocollo A2A di Google e provare a capire come utilizzarne i concetti per disegnare una un‚Äôarchitettura enterprise di Agenti, possibilmente slegata da vincoli di piattaforma tecnologica.
Che cos‚Äô√® A2A? Il Protocollo Agent2Agent (A2A) √® uno standard aperto progettato e condiviso pubblicamente da Google per facilitare la comunicazione e la collaborazione degli agenti AI. La standardizzazione del modello di interoperabilit√† dell‚ÄôAI √® un tema di cui si parla gi√† dai primissimi momenti in cui si √® iniziato a parlare di Agenti ed i motivi sono diversi:"><meta property="og:locale" content="en_IT"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-15T00:00:00+02:00"><meta property="article:modified_time" content="2025-08-15T00:00:00+02:00"><meta property="article:tag" content="GenAI"><meta property="article:tag" content="Langchain"><meta property="article:tag" content="Agents"><meta property="og:image" content="https://c-daniele.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://c-daniele.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A"><meta name=twitter:description content="Introduzione Tra una cosa e l‚Äôaltra, in queste incandescenti giornate di agosto, ne ho approfittato per leggere bene la specifica del protocollo A2A di Google e provare a capire come utilizzarne i concetti per disegnare una un‚Äôarchitettura enterprise di Agenti, possibilmente slegata da vincoli di piattaforma tecnologica.
Che cos‚Äô√® A2A? Il Protocollo Agent2Agent (A2A) √® uno standard aperto progettato e condiviso pubblicamente da Google per facilitare la comunicazione e la collaborazione degli agenti AI. La standardizzazione del modello di interoperabilit√† dell‚ÄôAI √® un tema di cui si parla gi√† dai primissimi momenti in cui si √® iniziato a parlare di Agenti ed i motivi sono diversi:"><meta name=application-name content="Cdani's Blog"><meta name=apple-mobile-web-app-title content="Cdani's Blog"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/logo_cd_v3.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#00872b><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/><link rel=prev href=https://c-daniele.github.io/it/posts/2025-07-05-advanced-tecnique-for-analyzing-excel-files-with-llms/><link rel=next href=https://c-daniele.github.io/it/posts/2025-08-31-alphaagents-a2a/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A","inLanguage":"en-IT","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/c-daniele.github.io\/it\/posts\/2025-08-15-agent-reg-for-a2a\/"},"genre":"posts","keywords":"GenAI, Langchain, Agents","wordcount":2617,"url":"https:\/\/c-daniele.github.io\/it\/posts\/2025-08-15-agent-reg-for-a2a\/","datePublished":"2025-08-15T00:00:00+02:00","dateModified":"2025-08-15T00:00:00+02:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Me"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>const query=window.matchMedia("(prefers-color-scheme: dark)");function applyTheme(){let e=window.localStorage?.getItem("theme")||"auto",t=e==="dark"||e==="auto"&&query.matches;document.body.setAttribute("theme",t?"dark":"light"),document.body.setAttribute("cfg-theme",e)}applyTheme(),query.addEventListener("change",applyTheme)</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/it/ title="Cdani's Blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo_cd_v3.svg data-srcset="/logo_cd_v3.svg, /logo_cd_v3.svg 1.5x, /logo_cd_v3.svg 2x" data-sizes=auto alt=/logo_cd_v3.svg title=/logo_cd_v3.svg>Cdani's Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/it/posts/>Archive </a><a class=menu-item href=/it/tags/>Tags </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=Search... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Cerca><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Chiaro><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Cambiare il tema"><i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="menu-item language" title="Scegliere la lingua"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/it/posts/2025-08-15-agent-reg-for-a2a/ selected>Italiano</option><option value=/en/posts/2025-08-15-agent-reg-for-a2a/>English</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/it/ title="Cdani's Blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo_cd_v3.svg data-srcset="/logo_cd_v3.svg, /logo_cd_v3.svg 1.5x, /logo_cd_v3.svg 2x" data-sizes=auto alt=/logo_cd_v3.svg title=/logo_cd_v3.svg>Cdani's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=Search... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Cerca><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Chiaro><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Annulla</a></div><a class=menu-item href=/it/posts/ title>Archive</a><a class=menu-item href=/it/tags/ title>Tags</a><a href=javascript:void(0); class="menu-item theme-switch" title="Cambiare il tema">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title="Scegliere la lingua"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/it/posts/2025-08-15-agent-reg-for-a2a/ selected>Italiano</option><option value=/en/posts/2025-08-15-agent-reg-for-a2a/>English</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contenuti</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/it/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Me</a></span>&nbsp;<span class=post-category>incluso in <a href=/it/categories/software-development/><i class="far fa-folder fa-fw" aria-hidden=true></i>Software Development</a>&nbsp;<a href=/it/categories/artificial-intelligence/><i class="far fa-folder fa-fw" aria-hidden=true></i>Artificial Intelligence</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="August 15, 2025">August 15, 2025</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2617 parole&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;13 minuti&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contenuti</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#che-cos√®-a2a>Che cos&rsquo;√® A2A?</a><ul><li><a href=#il-protocollo-di-trasporto>Il protocollo di trasporto</a></li><li><a href=#le-agent-card>Le <em>Agent Card</em></a></li><li><a href=#il-ciclo-di-vita-dei-task>Il ciclo di vita dei task</a></li><li><a href=#interscambio-di-dati>Interscambio di dati</a></li><li><a href=#sicurezza-e-gestione-delle-interazioni-asincrone>Sicurezza e gestione delle interazioni asincrone</a></li></ul></li><li><a href=#agent-discovery>Agent Discovery</a><ul><li><a href=#approcci-per-la-agent-discovery-previsti-in-a2a>Approcci per la Agent Discovery previsti in A2A</a></li><li><a href=#breve-confronto>Breve confronto</a></li></ul></li></ul><ul><li><a href=#che-cos√®-agent-reg>Che cos&rsquo;√® Agent-Reg?</a></li><li><a href=#panoramica-dellarchitettura>Panoramica dell&rsquo;Architettura</a><ul><li><a href=#macrocomponenti>Macrocomponenti</a></li></ul></li><li><a href=#come-funziona-la-registrazione-degli-agenti>Come Funziona la Registrazione degli Agenti</a></li><li><a href=#smart-agent-discovery>Smart Agent Discovery</a><ul><li><a href=#capacit√†-di-ricerca>Capacit√† di Ricerca</a></li><li><a href=#health-monitoring>Health Monitoring</a></li></ul></li><li><a href=#data-model-e-conformit√†-a2a>Data Model e Conformit√† A2A</a></li><li><a href=#backend-apis>Backend APIs</a></li><li><a href=#esempio-di-utilizzo-nel-mondo-reale>Esempio di Utilizzo nel Mondo Reale</a></li><li><a href=#perch√©-agent-reg>Perch√© Agent-Reg?</a></li><li><a href=#come-iniziare>Come Iniziare</a></li></ul></nav></div></div><div class=content id=content><h1 id=introduzione>Introduzione</h1><p>Tra una cosa e l&rsquo;altra, in queste incandescenti giornate di agosto, ne ho approfittato per leggere bene la specifica del protocollo A2A di Google e provare a capire come utilizzarne i concetti per disegnare una un&rsquo;architettura enterprise di Agenti, possibilmente slegata da vincoli di piattaforma tecnologica.</p><h2 id=che-cos√®-a2a>Che cos&rsquo;√® A2A?</h2><p>Il Protocollo Agent2Agent (A2A) √® uno standard aperto progettato e condiviso pubblicamente da Google per facilitare la comunicazione e la collaborazione degli agenti AI. La standardizzazione del modello di interoperabilit√† dell&rsquo;AI √® un tema di cui si parla gi√† dai primissimi momenti in cui si √® iniziato a parlare di <em>Agenti</em> ed i motivi sono diversi:</p><ul><li>estrema eterogeneit√†, sia in termini di implementazione, di funzionalit√† e di modello d&rsquo;ingaggio ed esecuzione dei task</li><li>la tendenza verso la specializzazione fa s√¨ che l&rsquo;esecuzione di task complessi necessiter√† di collaborazione tra Agenti in maniera sempre pi√π pressante</li><li>molte aziende hanno gi√† sviluppato le prime soluzioni agentiche, ma per poterle scalare ed estenderle a nuovi contesti, √® fondamentale avere un modello di interoperabilit√† future-proof e aperto. In assenza di uno standard condiviso e stabile, esiste un concreto rischio di lock-in.</li></ul><p>A2A identifica 5 elementi fondamentali per risolvere questi problemi:</p><h3 id=il-protocollo-di-trasporto>Il protocollo di trasporto</h3><p>A2A prevede 3 protocolli di trasporto alternativi, tutti basati su HTTPS e stabilisce che un agente A2A-compliant debba necessariamente implementarne almeno uno di essi</p><ol><li>JSON-RPC 2.0</li><li>gRPC</li><li>HTTP+JSON/REST</li></ol><h3 id=le-agent-card>Le <em>Agent Card</em></h3><p>Si tratta dello strumento principale per condividere le caratteristiche tecniche e funzionali degli agenti secondo uno schema standard definito in linguaggio JSON.
Le &ldquo;Agent Card&rdquo; sono come una sorta di <em>interface agreement</em> esposto dall&rsquo;agente che, oltre a definire i puntamenti e i tecnicismi per l&rsquo;autenticazione e l&rsquo;interoperabilit√†, definisce anche in maniera descrittiva lo scopo dell&rsquo;agente e le sue capabilities (es: supporto allo streaming o push notifications).
A2A impone che ogni agente debba sempre esporre la propria <strong>Agent Card</strong> in modo che possa essere facilmente scoperta e utilizzata da altri agenti e client.</p><p>In un contesto multi-agente, una determinata organizzazione deve dunque fare 2 cose:</p><ol><li>definire un modo per esporre queste &ldquo;Agent Card&rdquo; (come vedremo, A2A suggerisce l&rsquo;utilizzo di un <em>Well-known URI</em> secondo lo standard <a href=https://datatracker.ietf.org/doc/html/rfc8615 target=_blank rel="noopener noreffer">RFC 8615</a>)</li><li>conoscere in ogni momento quali sono le AgentCard a disposizione dell&rsquo;organizzazione, sapere dove trovarle e magari anche lo stato di salute (healthy/inactive)</li></ol><p>Questi 2 punti possono essere sintetizzati tramite il concetto di <strong><a href=https://a2a-protocol.org/latest/topics/agent-discovery/#the-role-of-the-agent-card target=_blank rel="noopener noreffer">Discovery</a></strong> che a mio avviso non √® affrontato in maniera esaustiva nelle specifiche ufficiali. Queste riflessioni mi hanno portato a considerare l&rsquo;implementazione di un <strong>Agent Registry</strong> home-made.</p><h3 id=il-ciclo-di-vita-dei-task>Il ciclo di vita dei task</h3><p>A2A classifica le tipologie di task e ne definisce il ciclo di vita. Ad esempio, un task potrebbe completarsi con un singolo messaggio di risposta (stateless) oppure, pi√π frequentemente, essere un oggetto stateful che transita attraverso diversi stati. I client possono dunque far riferimento ad un task attraverso un <strong>taskId</strong> restituito dall&rsquo;agente per tutto il ciclo di vita che pu√≤ anche essere di lunga durata o richiedere pi√π interazioni. Similmente, A2A prevede che nel primo messaggio di risposta, l&rsquo;agente fornisca anche un <em>contextId</em> per gestire il riferimento al contesto del modello LLM sottostante. La cosa interessante √® che il contextId pu√≤ anche andare oltre il ciclo di vita del singolo task. In questa maniera, i client hanno la possibilit√† di scomporre autonomamente alcuni processi complessi in task pi√π semplici ed autoconsistenti che per√≤ fanno riferimento al medesimo contesto conosciuto e memorizzato dall&rsquo;agente.</p><h3 id=interscambio-di-dati>Interscambio di dati</h3><p>A2A fa una distinzione tra:</p><ul><li><strong>Messages:</strong> rappresentano una singola interazione o un&rsquo;informazione contestuale tra un client e un agente. I messaggi indicano sempre il ruolo del sender (<em>user</em> oppure <em>agent</em>) e vengono utilizzati per istruzioni, prompt, risposte e aggiornamenti di stato.</li><li><strong>Artifacts:</strong> rappresentano il vero output del task e vengono dunque generati alla fine dell&rsquo;esecuzione</li></ul><p>Sia i messaggi che gli artefatti sono composti da unit√† atomiche denominate <em>part</em>, ciascuna delle quali pu√≤ essere di tipo <em>TextPart</em>, <em>FilePart</em> o <em>DataPart</em> e pu√≤ contenere anche metadati che aiutano a descriverne il contenuto.</p><h3 id=sicurezza-e-gestione-delle-interazioni-asincrone>Sicurezza e gestione delle interazioni asincrone</h3><p>Gli agenti devono autenticare tutte le richieste, in conformit√† con le specifiche definite nel <em>SecurityScheme</em> della propria AgentCard. A2A prevede che i server possano implementare l&rsquo;autenticazione tramite i metodi pi√π comuni come, ad esempio:</p><ul><li>OAuth 2.0</li><li>API Key</li><li>OpenAI</li><li>HTTP Basic Auth</li><li>Mutual TLS (mTLS)</li></ul><p>Il tema della sicurezza √® importante anche per quel che riguarda le <em>Push Notifications</em>, ovvero quel meccanismo che consente agli agenti di inviare aggiornamenti ai client in modo proattivo, tramite la predisposizione da parte dei client di un Webhook dedicato.
A2A prevede un processo di Webhook validation, al fine di evitare attacchi di tipo SSRF.</p><h2 id=agent-discovery>Agent Discovery</h2><h3 id=approcci-per-la-agent-discovery-previsti-in-a2a>Approcci per la Agent Discovery previsti in A2A</h3><p>Come accennato prima, secondo A2A ogni agente <strong>deve</strong> produrre una Agent Card secondo le specifiche indicate dal protocollo stesso. Questo documento √® dunque di fondamentale importanza per la fase di Agent Discovery, la quale pu√≤ essere implementata almeno in uno di questi 3 modi (ma A2A lascia spazio anche ad altre alternative):</p><ol><li>Utilizzo di <strong>Well-Known URI:</strong> Segue i principi dell&rsquo; <a href=https://datatracker.ietf.org/doc/html/rfc8615 target=_blank rel="noopener noreffer">RFC 8615</a> secondo cui viene riservato un percorso particolare (".well-known") all&rsquo;interno degli URI per la condivisione di metadati su una specifica risorsa web. In altre parole, a partire da un dominio (es: <em><a href=https://www.example.com target=_blank rel="noopener noreffer">www.example.com</a></em>) e da una risorsa esposta all&rsquo;interno del dominio (es: &ldquo;<em>my_resource</em>&rdquo;), lo standard RFC 8615 definisce il concetto di &ldquo;Well Known URI&rdquo; per la risorsa uguale a <a href=http://www.example.com/.well-known/my_resource target=_blank rel="noopener noreffer">http://www.example.com/.well-known/my_resource</a>.<br>Secondo il protocollo A2A, le AgentCard potrebbero dunque essere esposte nativamente da parte degli Agent Server tramite degli URI tipo: https://{server_domain}/.well-known/agent-card.json (vedi¬†<a href=https://a2a-protocol.org/latest/specification/#53-recommended-location target=_blank rel="noopener noreffer">Sezione 5.3</a>).</li><li><strong>Agent Registry:</strong>¬†Interrogazione di un catalogo centralizzato di agenti, che pu√≤ essere pubblico o privato.</li><li><strong>Configurazione diretta:</strong>¬†Le applicazioni client possono tranquillamente essere pre-configurate con tutte le informazioni presenti nella Agent Card degli Agent Server a cui deve accedere (per esempio con un inserimento diretto della AgentCard nel codice applicativo).</li></ol><h3 id=breve-confronto>Breve confronto</h3><p>Facendo riferimento alle 3 modalit√† di cui sopra, la terza mi sembra un brutale hard-coding di configurazioni punto-punto ed √® sicuramente non elegante e non scalabile.
La soluzione 1 √® un mero tecnicismo che rimanda semplicemente ad uno standard per l&rsquo;integrazione tra sistemi nel WEB e di per s√® non risolve in alcun modo il problema, perch√© le applicazioni (o gli agenti) client <strong>non sanno a priori quali sono le risorse (ovvero gli Agenti) da ricercare</strong> e verso cui indirizzare le chiamate HTTP verso i percorsi &ldquo;well-known&rdquo;.<br>A mio avviso, l&rsquo;unica vera soluzione √® la numero 2, ovvero l&rsquo;utilizzo di un <strong>registro centralizzato</strong>, che consenta:</p><ul><li><strong>agli Agenti</strong>: di essere condivisi e messi a disposizione dell&rsquo;organizzazione</li><li><strong>ai client</strong>: di conoscere quali sono gli agenti a disposizione e le loro caratteristiche di interfaccia</li></ul><p>Dal mio punto di vista, accanto a questi 2 macro-requisiti basilari, l&rsquo;Agent Registry potrebbe anche fornire alcune funzionalit√† ausiliari per far funzionare tutto l&rsquo;ecosistema A2A, come ad esempio:</p><ul><li>un meccanismo di <strong>healthcheck</strong>, per conoscere lo stato di salute dell&rsquo;agente</li><li>un <strong>motore di ricerca</strong> per skill, ma anche per capability, tags, descrizione o nome del provider, &mldr;</li><li>regole di <strong>autorizzazione</strong> per la consultazione e l&rsquo;accesso verso agenti</li><li>acquisto diretto per accesso ad agenti &ldquo;premium&rdquo; (<strong>Agent Marketplace</strong>)</li></ul><p>Tuttavia, A2A non definisce nulla di pi√π in merito a come questi Agent Registry devono essere fatti e le specifiche che dovrebbero avere. Anzi, nella specifica del protocollo √® scritto chiaramente</p><blockquote><p><em>The A2A protocol does not currently define a standard API for such registries, though this is an area of potential future exploration and community standardization</em></p></blockquote><h1 id=soluzioni-aperte-per-lagent-registry>Soluzioni aperte per l&rsquo;Agent Registry</h1><p>Volendo disegnare un&rsquo;architettura agnostica e possibilmente &ldquo;open&rdquo;, ho fatto qualche ricerca per identificare eventuali tool di mercato che offrono questo tipo di funzionalit√† e, sorprendentemente, <strong>non ho trovato nulla</strong>. Anche nelle piattaforme leader di mercato, che promuovono lo sviluppo di architetture multi-agente e di applicazioni agentiche a livello enterprise, mi sembra (ma potrei sbagliarmi) che al momento non ci siano molti segnali di apertura verso questa parte del protocollo A2A.<br>D&rsquo;altro canto, mi sembra naturale che in questa fase di transizione i big del settore (hyperscalers e big tech) stiano cercando di creare un ecosistema chiuso, dove ogni cliente sviluppa, pubblica ed esegue i propri agenti. In questo scenario, √® facile immaginare che ci sia una certa resistenza a standardizzare e aprire l&rsquo;accesso ad Agent Registries veramente aperti ed interoperabili.</p><p>Fatte queste considerazioni, ho pensato: &ldquo;ok ci metto un po&rsquo; di impegno, ma soprattutto un po&rsquo; di vibe-coding e me lo sviluppo da solo&rdquo; üõ†Ô∏è</p><h1 id=introduzione-ad-agent-reg>Introduzione ad Agent-Reg</h1><h2 id=che-cos√®-agent-reg>Che cos&rsquo;√® Agent-Reg?</h2><p>Agent-Reg √® una implementazione minimale ed open source di un Agent Registry, in maniera conforme alle specifiche A2A. Fornisce una soluzione centralizzata per la discovery e la manutenzione di agenti conformi ad A2A in un modo semplice ed interoperabile.
Trovate il codice qui: <a href=https://github.com/c-daniele/agent-reg target=_blank rel="noopener noreffer">Agent-Reg GitHub Repository</a></p><p>La soluzione pu√≤ essere rilasciata ovunque ed √® stata progettata mantenendo una completa apertura e indipendenza dalla piattaforma. Nel suo nucleo, Agent-Reg risolve il problema della Discovery attraverso:</p><ul><li><strong>Universal Agent Discovery</strong>: Un catalogo ricercabile di tutti gli agenti disponibili</li><li><strong>A2A Protocol Compliance</strong>: Supporto per la specifica Agent2Agent e validazione completa in fase di registrazione</li><li><strong>Health Monitoring</strong>: Tracciamento real-time della disponibilit√† e dello stato degli agenti (heartbeat)</li><li><strong>Advanced Search</strong>: Ricerca multi-criterio per skill, capabilities, ownership e altri attributi descrittivi</li></ul><h2 id=panoramica-dellarchitettura>Panoramica dell&rsquo;Architettura</h2><p>L&rsquo;architettura √® estremamente semplice e, anche se alcune scelte implementative non sono ancora ottimizzate per la scalabilit√† (per esempio, l&rsquo;utilizzo di SQLite), fornisce una base di partenza su cui poter costruire le proprie customizzazioni.</p><div class=mermaid id=id-1></div><h3 id=macrocomponenti>Macrocomponenti</h3><h4 id=backend>Backend</h4><p>Il backend √® stato sviluppato utilizzando <strong>FastAPI</strong>, un framework Python moderno che fornisce documentazione API automatica, validazione dei tipi ed eccellenti prestazioni.<br>Altre caratteristiche di rilievo:</p><ul><li><strong>SQLite with JSON extension</strong> per la memorizzazione dei dati: un database leggero e ultraconsolidato, con supporto NoSQL tramite JSON, che richiede zero configurazione infrastrutturale aggiuntiva, rendendo semplice il deployment e fornendo prestazioni sufficienti almeno per un PoC o un prototipo funzionante, in grado di gestire qualche migliaio di oggetti</li><li><strong>Strict A2A Schema Validation</strong>: Ogni registrazione di agente √® validata rispetto allo schema ufficiale di A2A per garantire la conformit√† al protocollo</li><li><strong>RESTful API Design</strong>: Endpoint puliti e intuitivi che seguono le specifiche OpenAPI 3.0</li></ul><h4 id=frontend>Frontend</h4><p>L&rsquo;interfaccia web √® costruita con <strong>React 18</strong> e <strong>TypeScript</strong>, fornendo un&rsquo;esperienza moderna e responsive per la gestione degli agenti:</p><ul><li><strong>Tailwind CSS</strong>: Framework CSS semplice e pulito</li><li><strong>Real-time Updates</strong>: Monitoraggio live dello stato e salute degli agenti</li><li><strong>Advanced Filtering</strong>: Interfaccia di ricerca intuitiva con criteri multipli</li></ul><p>Homepage di Agent-Reg
<a href=/images/2025/agent-registry-home.png><img src=/images/2025/agent-registry-home.png alt="Agent-Reg Homepage"></a></p><h2 id=come-funziona-la-registrazione-degli-agenti>Come Funziona la Registrazione degli Agenti</h2><p>Il processo di registrazione di un Agente su Agent-Reg assicura che solo gli agenti validi e conformi alle specifiche A2A possano unirsi al registry. Di seguito √® riportato un diagramma di sequenza che illustra il flusso di registrazione end-to-end:</p><div class=mermaid id=id-2></div><p>Quando un agente vuole registrarsi con Agent-Reg, deve fornire la sua <strong>Agent Card</strong>. La piattaforma esegue una validazione dell&rsquo;Agent Card per garantire la conformit√†, rifiutando la richiesta qualora non siano soddisfatti i requisiti del protocollo.
Qualora la validazione abbia esito positivo, l&rsquo;agente viene registrato a sistema e viene dunque ritornato un identificativo univoco, che l&rsquo;Agente pu√≤ in seguito utilizzare per effettuare operazioni sul registro (es: heartbeat).</p><p>A livello di interfaccia frontend, la registrazione avviene caricando un&rsquo;Agent Card o fornendo il percorso di rete verso il descrittore <em>/.well-known/agent-card.json</em></p><p><a href=/images/2025/agent-registry-add-agent.png><img src=/images/2025/agent-registry-add-agent.png alt="Add new Agent UI"></a></p><h2 id=smart-agent-discovery>Smart Agent Discovery</h2><p>Agent-Reg fornisce un semplicissimo motore di ricerca che consente agli utenti di scoprire gli agenti di interesse in base a vari criteri. Il diagramma seguente illustra l&rsquo;architettura del motore di ricerca e i filtri applicati:</p><div class=mermaid id=id-3></div><h3 id=capacit√†-di-ricerca>Capacit√† di Ricerca</h3><p>I criteri di ricerca sono dunque i seguenti:</p><ul><li><strong>By Name</strong>: Ricerca testuale semplice basata sul nome dell&rsquo;agente</li><li><strong>By Skills</strong>: Trova gli agenti che dichiarano skills specifiche (es. &ldquo;route-planning&rdquo;, &ldquo;image-processing&rdquo;, etc)</li><li><strong>By Capabilities</strong>: Filtra gli agenti basandosi sulle capabilities dichiarate nell&rsquo;agent card secondo quanto previsto nel protocollo A2A (streaming, push notifications, etc)</li><li><strong>By Owner</strong>: Mostra gli agenti gestiti da team o organizzazioni specifiche</li><li><strong>By Liveness</strong>: Mostra solo gli agenti che sono attualmente attivi secondo l&rsquo;heartbeat periodico.</li></ul><h3 id=health-monitoring>Health Monitoring</h3><p>In uno scenario realistico, gli agenti saranno molti e potenzialmente instabili a causa della loro continua evoluzione e manutenzione (basti pensare ad un cambio nel prompt o nel modello), ma anche a causa della complessa rete di dipendenze. Ad esempio, un Agente pu√≤ dipendere da servizi o API esterni ma anche da altri Agenti.
Agent-Reg prevede un meccanismo di heartbeat, dove gli agenti registrati notificano periodicamente al registry il loro stato di salute. Questo permette al registry di:</p><ul><li>Fornire ai client informazioni sullo stato di salute in tempo reale</li><li>Filtrare automaticamente gli agenti non responsivi secondo quanto ritornato dai risultati di ricerca</li><li>Abilitare il monitoraggio proattivo e l&rsquo;alerting per agenti critici</li></ul><h2 id=data-model-e-conformit√†-a2a>Data Model e Conformit√† A2A</h2><p>Agent-Reg aderisce alla specifica del protocollo A2A per la struttura delle agent card, ma √® ovviamente un modello semplificato ed estendibile. Ad esempio, non include le definizioni specifiche dei SecurityScheme nelle sue 5 varianti.
Di seguito un class diagram che illustra il modello dati logico:</p><div class=mermaid id=id-4></div><h2 id=backend-apis>Backend APIs</h2><p>Agent-Reg fornisce una REST API completa con alcuni metodi che implementano le operazioni principali:</p><table><thead><tr><th>Operazione</th><th>Endpoint</th><th>Descrizione</th></tr></thead><tbody><tr><td>Agent Registration</td><td><code>POST /agents/register</code></td><td>Registra un nuovo agente conforme A2A</td></tr><tr><td>Agent Discovery</td><td><code>GET /agents</code></td><td>Cerca e filtra agenti con vari criteri</td></tr><tr><td>Agent Details</td><td><code>GET /agents/{id}</code></td><td>Recupera informazioni complete su un agente specifico</td></tr><tr><td>Health Check</td><td><code>POST /agents/{id}/heartbeat</code></td><td>Aggiorna lo stato liveness dell&rsquo;agente</td></tr><tr><td>Invocation Info</td><td><code>GET /agents/{id}/invoke_url</code></td><td>Ottieni dettagli di invocazione diretta</td></tr></tbody></table><h2 id=esempio-di-utilizzo-nel-mondo-reale>Esempio di Utilizzo nel Mondo Reale</h2><p>Vediamo come Agent-Reg funziona nella pratica. Immagina di stare costruendo un&rsquo;applicazione per la pianificazione di viaggi che ha bisogno di trovare un agente di pianificazione percorsi con capabilities di traffico real-time:</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-bash"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copia negli appunti"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Search for agents with route planning skills and streaming capability</span>
</span></span><span class=line><span class=cl>curl <span class=s2>&#34;http://localhost:8000/agents?skill=route-optimizer-traffic&amp;capabilities=streaming&amp;only_alive=true&#34;</span></span></span></code></pre></div></div><p>Il registry restituir√† solo agenti attivi che corrispondono a questi criteri, completi dei loro URL di invocazione, requisiti di sicurezza e dettagli delle capability.</p><p>A livello di interfaccia utente, √® possibile fare la stessa cosa tramite la barra di ricerca.
<a href=/images/2025/agent-registry-search.png><img src=/images/2025/agent-registry-search.png alt="Agent Registry Search"></a></p><h2 id=perch√©-agent-reg>Perch√© Agent-Reg?</h2><p>Agent-Reg cerca di risolvere il problema della Discovery in un ecosistema di agenti basati sullo standard A2A e pu√≤ essere potenzialmente utile anche per affrontare i temi di sicurezza e governance nelle applicazioni basate su agenti.
Ho provato a sintetizzare i pillar principali su cui vorrei far evolvere il tool:</p><ol><li><strong>Interoperabilit√†</strong>: agenti eterogenei che aderiscono allo standard possono lavorare insieme senza necessit√† di collegamenti punto-punto o integrazioni complesse e ridondanti</li><li><strong>Discovery</strong>: Le organizzazioni possono mantenere un catalogo completo e costantemente aggiornato dei loro Agenti</li><li><strong>Affidabilit√†</strong>: Il meccanismo di heartbeat assicura che i client interagiscano solo con agenti responsivi</li><li><strong>Scalabilit√†</strong>: L&rsquo;architettura pu√≤ gestire migliaia di agenti senza requisiti infrastrutturali complessi</li><li><strong>Apertura</strong>: E&rsquo; una soluzione open-source, che pu√≤ essere distribuita ovunque, previene il vendor lock-in e incoraggia l&rsquo;innovazione</li></ol><h2 id=come-iniziare>Come Iniziare</h2><p>Agent-Reg manca ancora di diverse funzionalit√† ed ottimizzazioni necessarie prima di poterlo realmente usare in un ambiente produttivo (es: autenticazione ed autorizzazione, gestione degli errori, logging, notifiche, supporto ad altri NoSql DB, &mldr;), ma √® una base su cui costruire un piccolo ecosistema aperto ed estendibile.
Avviarlo √® semplicissimo:</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-bash"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copia negli appunti"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Backend setup</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> backend/app
</span></span><span class=line><span class=cl>pip install -r requirements.txt
</span></span><span class=line><span class=cl>python src/main.py
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Frontend setup</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> frontend
</span></span><span class=line><span class=cl>npm install
</span></span><span class=line><span class=cl>npm start</span></span></code></pre></div></div><h1 id=conclusioni>Conclusioni</h1><p>In questo periodo di forte dinamismo in ambito AI, il protocollo A2A fa un passo molto importante, perch√© mette a fattor comune alcuni concetti di base su cui poter costruire una reale standardizzazione, ma da questo punto di vista a mio avviso non siamo ancora in una fase di maturit√†. Le specifiche in s√© non sono scritte male, ma sono abbastanza generiche (provate a fare il confronto con altri standard, <a href=https://datatracker.ietf.org/doc/html/rfc7540 target=_blank rel="noopener noreffer">tipo quello di HTTP/2</a> per capire cosa intendo&mldr;) e lasciano ancora molti spazi per estensioni o integrazioni.
Uno dei punti importanti che mi sembra sia stato tralasciato √® quello della Discovery, per cui ho cercato di immaginare una soluzione centralizzata e aperta.</p><p><a href=https://github.com/c-daniele/agent-reg target=_blank rel="noopener noreffer">La metto a disposizione della collettivit√†</a>, sperando che qualche volontario possa aiutarmi contribuendo al suo sviluppo! üòä</p><hr></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Aggiornato il August 15, 2025</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Condividi su X" data-sharer=x data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A" data-hashtags=GenAI,Langchain,Agents><i class="fab fa-x-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Condividi su Threads" data-sharer=threads data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A"><i class="fab fa-threads fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Condividi su Facebook" data-sharer=facebook data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-hashtag=GenAI><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Condividi su Hacker News" data-sharer=hackernews data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Condividi su Line" data-sharer=line data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@15.14.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Condividi su ÂæÆÂçö" data-sharer=weibo data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Condividi su Diaspora" data-sharer=diaspora data-url=https://c-daniele.github.io/it/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Costruire un Agent Registry aperto per il Protocollo A2A" data-description><i class="fab fa-diaspora fa-fw" aria-hidden=true></i></a><a href="https://t.me/share/url?url=https%3a%2f%2fc-daniele.github.io%2fit%2fposts%2f2025-08-15-agent-reg-for-a2a%2f&amp;text=Agent-Reg%3a%20Costruire%20un%20Agent%20Registry%20aperto%20per%20il%20Protocollo%20A2A" target=_blank title="Condividi su Telegram"><i class="fab fa-telegram fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/it/tags/genai/>GenAI</a>,&nbsp;<a href=/it/tags/langchain/>Langchain</a>,&nbsp;<a href=/it/tags/agents/>Agents</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Indietro</a></span>&nbsp;|&nbsp;<span><a href=/it/>Home</a></span></section></div><div class=post-nav><a href=/it/posts/2025-07-05-advanced-tecnique-for-analyzing-excel-files-with-llms/ class=prev rel=prev title="Oltre il RAG: Come analizzare efficacemente un file Excel tramite un LLM"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Oltre il RAG: Come analizzare efficacemente un file Excel tramite un LLM</a>
<a href=/it/posts/2025-08-31-alphaagents-a2a/ class=next rel=next title="AlphaAgents: Implementazione Multi-Agent A2A per Analisi Finanziaria Collaborativa">AlphaAgents: Implementazione Multi-Agent A2A per Analisi Finanziaria Collaborativa<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Torna all'inizio"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title="Vedi commenti"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script src=/lib/lunr/lunr.stemmer.support.min.js></script><script src=/lib/lunr/lunr.it.min.js></script><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js></script><script>window.config={comment:{},search:{highlightTag:"em",lunrIndexURL:"/it/index.json",lunrLanguageCode:"it",maxResultLength:10,noResultsFound:"Nessun risultato trovato",snippetLength:30,type:"lunr"}}</script><script src=/js/theme.min.js></script><script>var dnt,doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8NZQZ3Z1RN")}</script><script src="https://www.googletagmanager.com/gtag/js?id=G-8NZQZ3Z1RN" async></script></body></html>