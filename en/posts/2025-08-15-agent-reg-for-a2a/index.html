<!doctype html><html lang=en-US><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Agent-Reg: Building an Open Agent Registry for A2A Protocol - Cdani's Blog</title><meta name=Description content="Cdani's Blog"><meta property="og:url" content="https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/"><meta property="og:site_name" content="Cdani's Blog"><meta property="og:title" content="Agent-Reg: Building an Open Agent Registry for A2A Protocol"><meta property="og:description" content="Introduction During these scorching August days, I took the opportunity to thoroughly read Google‚Äôs A2A protocol specification and try to understand how to use its concepts to design an enterprise Agent architecture, possibly free from technological or platform constraints.
What is A2A? The Agent2Agent (A2A) Protocol is an open standard designed and publicly shared by Google to facilitate communication and collaboration among AI agents. The standardization of AI interoperability model is a topic that has been discussed since the very first moments when we started talking about Agents, and there are several reasons for this:"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-15T00:00:00+02:00"><meta property="article:modified_time" content="2025-08-15T00:00:00+02:00"><meta property="article:tag" content="GenAI"><meta property="article:tag" content="Langchain"><meta property="article:tag" content="Agents"><meta property="og:image" content="https://c-daniele.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://c-daniele.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Agent-Reg: Building an Open Agent Registry for A2A Protocol"><meta name=twitter:description content="Introduction During these scorching August days, I took the opportunity to thoroughly read Google‚Äôs A2A protocol specification and try to understand how to use its concepts to design an enterprise Agent architecture, possibly free from technological or platform constraints.
What is A2A? The Agent2Agent (A2A) Protocol is an open standard designed and publicly shared by Google to facilitate communication and collaboration among AI agents. The standardization of AI interoperability model is a topic that has been discussed since the very first moments when we started talking about Agents, and there are several reasons for this:"><meta name=application-name content="Cdani's Blog"><meta name=apple-mobile-web-app-title content="Cdani's Blog"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/logo_cd_v3.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#00872b><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/><link rel=prev href=https://c-daniele.github.io/en/posts/2025-07-05-advanced-tecnique-for-analyzing-excel-files-with-llms/><link rel=next href=https://c-daniele.github.io/en/posts/2025-08-31-alphaagents-a2a/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Agent-Reg: Building an Open Agent Registry for A2A Protocol","inLanguage":"en-US","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/c-daniele.github.io\/en\/posts\/2025-08-15-agent-reg-for-a2a\/"},"genre":"posts","keywords":"GenAI, Langchain, Agents","wordcount":2454,"url":"https:\/\/c-daniele.github.io\/en\/posts\/2025-08-15-agent-reg-for-a2a\/","datePublished":"2025-08-15T00:00:00+02:00","dateModified":"2025-08-15T00:00:00+02:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Me"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>const query=window.matchMedia("(prefers-color-scheme: dark)");function applyTheme(){let e=window.localStorage?.getItem("theme")||"auto",t=e==="dark"||e==="auto"&&query.matches;document.body.setAttribute("theme",t?"dark":"light"),document.body.setAttribute("cfg-theme",e)}applyTheme(),query.addEventListener("change",applyTheme)</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/en/ title="Cdani's Blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo_cd_v3.svg data-srcset="/logo_cd_v3.svg, /logo_cd_v3.svg 1.5x, /logo_cd_v3.svg 2x" data-sizes=auto alt=/logo_cd_v3.svg title=/logo_cd_v3.svg>Cdani's Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/en/posts/>Archive </a><a class=menu-item href=/en/tags/>Tags </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=Search... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="menu-item language" title="Select Language"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/it/posts/2025-08-15-agent-reg-for-a2a/>Italiano</option><option value=/en/posts/2025-08-15-agent-reg-for-a2a/ selected>English</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/en/ title="Cdani's Blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo_cd_v3.svg data-srcset="/logo_cd_v3.svg, /logo_cd_v3.svg 1.5x, /logo_cd_v3.svg 2x" data-sizes=auto alt=/logo_cd_v3.svg title=/logo_cd_v3.svg>Cdani's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=Search... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/en/posts/ title>Archive</a><a class=menu-item href=/en/tags/ title>Tags</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title="Select Language"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/it/posts/2025-08-15-agent-reg-for-a2a/>Italiano</option><option value=/en/posts/2025-08-15-agent-reg-for-a2a/ selected>English</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Agent-Reg: Building an Open Agent Registry for A2A Protocol</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/en/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Me</a></span>&nbsp;<span class=post-category>included in <a href=/en/categories/software-development/><i class="far fa-folder fa-fw" aria-hidden=true></i>Software Development</a>&nbsp;<a href=/en/categories/artificial-intelligence/><i class="far fa-folder fa-fw" aria-hidden=true></i>Artificial Intelligence</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="August 15, 2025">August 15, 2025</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2454 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;12 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#what-is-a2a>What is A2A?</a><ul><li><a href=#the-transport-protocol>The transport protocol</a></li><li><a href=#the-agent-cards>The <em>Agent Cards</em></a></li><li><a href=#the-task-lifecycle>The task lifecycle</a></li><li><a href=#data-exchange>Data exchange</a></li><li><a href=#security-and-asynchronous-interaction-management>Security and asynchronous interaction management</a></li></ul></li><li><a href=#agent-discovery>Agent Discovery</a><ul><li><a href=#approaches-for-agent-discovery-provided-in-a2a>Approaches for Agent Discovery provided in A2A</a></li><li><a href=#brief-comparison>Brief comparison</a></li></ul></li></ul><ul><li><a href=#what-is-agent-reg>What is Agent-Reg?</a></li><li><a href=#architecture-overview>Architecture Overview</a><ul><li><a href=#macro-components>Macro Components</a></li></ul></li><li><a href=#how-agent-registration-works>How Agent Registration Works</a></li><li><a href=#smart-agent-discovery>Smart Agent Discovery</a><ul><li><a href=#search-capabilities>Search Capabilities</a></li><li><a href=#health-monitoring>Health Monitoring</a></li></ul></li><li><a href=#data-model-and-a2a-compliance>Data Model and A2A Compliance</a></li><li><a href=#backend-apis>Backend APIs</a></li><li><a href=#real-world-usage-example>Real-World Usage Example</a></li><li><a href=#why-agent-reg>Why Agent-Reg?</a></li><li><a href=#getting-started>Getting Started</a></li></ul></nav></div></div><div class=content id=content><h1 id=introduction>Introduction</h1><p>During these scorching August days, I took the opportunity to thoroughly read Google&rsquo;s A2A protocol specification and try to understand how to use its concepts to design an enterprise Agent architecture, possibly free from technological or platform constraints.</p><h2 id=what-is-a2a>What is A2A?</h2><p>The Agent2Agent (A2A) Protocol is an open standard designed and publicly shared by Google to facilitate communication and collaboration among AI agents. The standardization of AI interoperability model is a topic that has been discussed since the very first moments when we started talking about <em>Agents</em>, and there are several reasons for this:</p><ul><li>extreme heterogeneity, both in terms of implementation, functionalities, and task execution models</li><li>the trend towards specialization means that executing complex tasks will increasingly require collaboration between Agents</li><li>many companies have already developed their first agent solutions, but to scale and extend them to new contexts, it&rsquo;s essential to have a future-proof and open interoperability model. In the absence of a shared and stable standard, there&rsquo;s a concrete risk of lock-in.</li></ul><p>A2A identifies 5 fundamental elements to solve these problems:</p><h3 id=the-transport-protocol>The transport protocol</h3><p>A2A provides 3 alternative transport protocols, all based on HTTPS, and establishes that an A2A-compliant agent must necessarily implement at least one of them</p><ol><li>JSON-RPC 2.0</li><li>gRPC</li><li>HTTP+JSON/REST</li></ol><h3 id=the-agent-cards>The <em>Agent Cards</em></h3><p>This is the main tool for sharing the technical and functional features of agents according to a standard schema defined through the JSON language.
The &ldquo;Agent Cards&rdquo; are like a sort of <em>interface agreement</em> exposed by the agent that, in addition to defining endpoints and technicalities for authentication and interoperability, also descriptively defines the agent&rsquo;s purpose and capabilities (e.g., streaming support or push notifications).
A2A requires that each agent must always expose its <strong>Agent Card</strong> so that it can be easily discovered and used by other agents and clients.</p><p>In a multi-agent context, a specific organization must therefore do 2 things:</p><ol><li>define a way to expose these &ldquo;Agent Cards&rdquo; (as we&rsquo;ll see, A2A suggests using a <em>Well-known URI</em> according to the <a href=https://datatracker.ietf.org/doc/html/rfc8615 target=_blank rel="noopener noreffer">RFC 8615</a> standard)</li><li>know at all times which AgentCards are available to the organization, where to find them, and possibly also their health status (healthy/inactive)</li></ol><p>These 2 points can be synthesized through the concept of <strong><a href=https://a2a-protocol.org/latest/topics/agent-discovery/#the-role-of-the-agent-card target=_blank rel="noopener noreffer">Discovery</a></strong> which, in my opinion, is not addressed exhaustively in the official specifications. These thoughts led me to consider the implementation of a home-made <strong>Agent Registry</strong>.</p><h3 id=the-task-lifecycle>The task lifecycle</h3><p>A2A classifies task types and defines their lifecycle. For example, a task could be completed with a single response message (stateless) or, more frequently, be a stateful object that transitions through different states. Clients can therefore refer to a task through a <strong>taskId</strong> returned by the agent throughout the lifecycle, which can also be long-lasting or require multiple interactions. Similarly, A2A provides that in the first response message, the agent also provides a <em>contextId</em> to manage the reference to the underlying LLM model context. The interesting thing is that the contextId can also go beyond the lifecycle of a single task. In this way, clients have the possibility to autonomously decompose some complex processes into simpler and self-consistent tasks referring to the same context known and stored by the agent.</p><h3 id=data-exchange>Data exchange</h3><p>A2A makes a distinction between:</p><ul><li><strong>Messages:</strong> represent a single interaction or contextual information between a client and an agent. Messages always indicate the sender&rsquo;s role (<em>user</em> or <em>agent</em>). They are mainly used for instructions, prompts, responses, and status updates.</li><li><strong>Artifacts:</strong> represent the actual output of the task and are therefore generated at the end of execution</li></ul><p>Both messages and artifacts are composed of atomic units called <em>parts</em>, each of which can be of type <em>TextPart</em>, <em>FilePart</em>, or <em>DataPart</em> and can also contain metadata that helps describe their content.</p><h3 id=security-and-asynchronous-interaction-management>Security and asynchronous interaction management</h3><p>Agents must authenticate all requests, in compliance with the specifications defined in the <em>SecurityScheme</em> of their AgentCard. A2A provides that servers can implement authentication through the most common methods such as:</p><ul><li>OAuth 2.0</li><li>API Key</li><li>OpenAI</li><li>HTTP Basic Auth</li><li>Mutual TLS (mTLS)</li></ul><p>The security theme is also important regarding <em>Push Notifications</em>, which is the mechanism that allows agents to send updates to clients proactively, through the setup of a dedicated Webhook by clients.
A2A provides a Webhook validation process to prevent SSRF-type attacks.</p><h2 id=agent-discovery>Agent Discovery</h2><h3 id=approaches-for-agent-discovery-provided-in-a2a>Approaches for Agent Discovery provided in A2A</h3><p>As mentioned before, according to A2A, each agent <strong>must</strong> produce an Agent Card according to the specifications indicated by the protocol itself. This document is therefore a foundational element for the Agent Discovery phase, which can be implemented in at least one of these 3 ways (but A2A also leaves room for other alternatives):</p><ol><li>Use of <strong>Well-Known URI:</strong> Follows the principles of <a href=https://datatracker.ietf.org/doc/html/rfc8615 target=_blank rel="noopener noreffer">RFC 8615</a> according to which a particular path ("<em>.well-known</em>") is reserved within URIs for sharing metadata about a specific web resource. In other words, starting from a domain (e.g., <em><a href=https://www.example.com target=_blank rel="noopener noreffer">www.example.com</a></em>) and from a resource exposed within such domain (e.g., &ldquo;<em>my_resource</em>&rdquo;), the RFC 8615 standard defines the concept of &ldquo;Well Known URI&rdquo; for the resource equal to <a href=http://www.example.com/.well-known/my_resource target=_blank rel="noopener noreffer">http://www.example.com/.well-known/my_resource</a>.<br>According to the A2A protocol, AgentCards could therefore be exposed natively by Agent Servers through URIs like: https://{server_domain}/.well-known/agent-card.json (see <a href=https://a2a-protocol.org/latest/specification/#53-recommended-location target=_blank rel="noopener noreffer">Section 5.3</a>).</li><li><strong>Agent Registry:</strong> Querying a centralized catalog of agents, which can be public or private.</li><li><strong>Direct configuration:</strong> Client applications can be pre-configured with all the information present in the Agent Card of the Agent Servers they need access to (for example with direct mapping of the AgentCard information in the application code).</li></ol><h3 id=brief-comparison>Brief comparison</h3><p>Referring to the 3 methods above, the third seems like brutal hard-coding of point-to-point configurations and is certainly not elegant and not scalable.
Solution 1 is a mere technicality that simply refers to a standard for integration between systems on the WEB and by itself does not solve the problem at all, because client applications (or agents) <strong>do not know a priori which are the resources (i.e., the Agents) to search for</strong> and towards which to direct HTTP calls to the &ldquo;well-known&rdquo; paths.<br>In my opinion, the only real solution is number 2, which is the use of a <strong>centralized registry</strong>, which allows:</p><ul><li><strong>to Agents</strong>: to be shared and made available to the organization</li><li><strong>to clients</strong>: to know which agents are available and their interface characteristics</li></ul><p>From my point of view, alongside these 2 basic macro-requirements, the Agent Registry could also provide some auxiliary functionalities to make the entire A2A ecosystem work, such as:</p><ul><li>a <strong>healthcheck</strong> mechanism, to know the agent&rsquo;s health status</li><li>a <strong>search engine</strong> for skills, but also for capabilities, tags, description, or provider name, &mldr;</li><li><strong>authorization</strong> rules for consultation and access to agents</li><li>direct purchase for access to &ldquo;premium&rdquo; agents (<strong>Agent Marketplace</strong>)</li></ul><p>However, A2A doesn&rsquo;t define anything more about how these Agent Registries should be made and the specifications they should have. In fact, in the protocol specification it&rsquo;s clearly written</p><blockquote><p><em>The A2A protocol does not currently define a standard API for such registries, though this is an area of potential future exploration and community standardization</em></p></blockquote><h1 id=open-solutions-for-agent-registry>Open solutions for Agent Registry</h1><p>As I wanted to design an agnostic and possibly &ldquo;open&rdquo; architecture, I did some research to identify any market tool that offer this type of functionality and, surprisingly, <strong>I found nothing</strong>. Even in the leading market platforms that promote the development of multi-agent architectures and enterprise-level agent applications, it seems to me (but I could be wrong) that at the moment there are a very few signs of openness towards this part of the A2A protocol.<br>On the other hand, it seems natural that in this transition phase, the big players in the sector (hyperscalers and big tech) are trying to create a closed ecosystem, where each customer develops, publishes, and runs their own agents. In this scenario, it&rsquo;s easy to imagine that there&rsquo;s some resistance to standardizing and opening access to truly open and interoperable Agent Registries.</p><p>Given these considerations, I thought: &ldquo;Okay, I&rsquo;ll put in some effort and moreover, a bit of vibe-coding, and I&rsquo;ll just build it by myself&rdquo; üõ†Ô∏è</p><h1 id=introduction-to-agent-reg>Introduction to Agent-Reg</h1><h2 id=what-is-agent-reg>What is Agent-Reg?</h2><p>Agent-Reg is a minimal and open-source implementation of an Agent Registry, in compliance with A2A specifications. It provides a centralized solution for the discovery and maintenance of A2A-compliant agents in a simple and interoperable way.
You can find the code here: <a href=https://github.com/c-daniele/agent-reg target=_blank rel="noopener noreffer">Agent-Reg GitHub Repository</a></p><p>The solution can be deployed anywhere and has been designed maintaining complete openness and platform independence. At its core, Agent-Reg solves the Discovery problem through:</p><ul><li><strong>Universal Agent Discovery</strong>: A searchable catalog of all available agents</li><li><strong>A2A Protocol Compliance</strong>: Support for the Agent2Agent specification and complete validation during registration</li><li><strong>Health Monitoring</strong>: Real-time tracking of agent availability and status (heartbeat)</li><li><strong>Advanced Search</strong>: Multi-criteria search for skills, capabilities, ownership, and other descriptive attributes</li></ul><h2 id=architecture-overview>Architecture Overview</h2><p>The architecture is extremely simple and, although some implementation choices are not yet optimized for scalability (for example, the usage of SQLite), it provides a starting point on which to build your own customizations.</p><div class=mermaid id=id-1></div><h3 id=macro-components>Macro Components</h3><h4 id=backend>Backend</h4><p>The backend was developed using <strong>FastAPI</strong>, a modern Python framework that provides automatic API documentation, type validation, and excellent performance.<br>Other notable features:</p><ul><li><strong>SQLite with JSON Extension</strong> for Data Storage: a lightweight and battle-tested database with NoSQL support via JSON, requiring zero additional infrastructure configuration. This makes deployment simple and provides sufficient performance for at least a PoC or a working prototype capable of handling several thousand objects.</li><li><strong>Strict A2A Schema Validation</strong>: Each agent registration is validated against the official A2A JSON Schema to ensure protocol compliance</li><li><strong>RESTful API Design</strong>: Clean and intuitive endpoints that follow OpenAPI 3.0 specifications</li></ul><h4 id=frontend>Frontend</h4><p>The web interface is built with <strong>React 18</strong> and <strong>TypeScript</strong>, providing a modern and responsive experience for agent management:</p><ul><li><strong>Tailwind CSS</strong>: Simple and clean CSS framework</li><li><strong>Real-time Updates</strong>: Live monitoring of agent status and health</li><li><strong>Advanced Filtering</strong>: Intuitive search interface with multiple criteria</li></ul><p><a href=/images/2025/agent-registry-home.png><img src=/images/2025/agent-registry-home.png alt="Agent-Reg Homepage"></a></p><h2 id=how-agent-registration-works>How Agent Registration Works</h2><p>The agent registration process on Agent-Reg ensures that only valid agents compliant with A2A specifications can join the registry. Below is a sequence diagram illustrating the end-to-end registration flow:</p><div class=mermaid id=id-2></div><p>When an agent wants to register with Agent-Reg, it must provide its <strong>Agent Card</strong>. The platform performs Agent Card validation to ensure compliance, rejecting the request if protocol requirements are not met.
If validation is successful, the agent is registered in the system and a unique identifier is returned, which the Agent can later use to perform operations on the registry (e.g., heartbeat).</p><p>At the frontend interface level, registration occurs by uploading an Agent Card or providing the network path to the <em>/.well-known/agent-card.json</em> descriptor</p><p><a href=/images/2025/agent-registry-add-agent.png><img src=/images/2025/agent-registry-add-agent.png alt="Add new Agent UI"></a></p><h2 id=smart-agent-discovery>Smart Agent Discovery</h2><p>Agent-Reg provides a very simple search engine that allows users to discover agents of interest based on various criteria. The following diagram illustrates the search engine architecture and applied filters:</p><div class=mermaid id=id-3></div><h3 id=search-capabilities>Search Capabilities</h3><p>The search criteria are the following:</p><ul><li><strong>By Name</strong>: Simple textual search based on agent name</li><li><strong>By Skills</strong>: Find agents that declare specific skills (e.g., &ldquo;route-planning&rdquo;, &ldquo;image-processing&rdquo;, etc.)</li><li><strong>By Capabilities</strong>: Filter agents based on capabilities declared in the agent card according to the A2A protocol (streaming, push notifications, etc.)</li><li><strong>By Owner</strong>: Show agents managed by specific teams or organizations</li><li><strong>By Liveness</strong>: Show only agents that are currently active according to periodic heartbeat.</li></ul><h3 id=health-monitoring>Health Monitoring</h3><p>In a realistic scenario, agents will be a lot and potentially unstable due to their continuous evolution and maintenance (just think of a change in prompt or model), but also due to the complex network of dependencies. For example, an Agent can depend on external services or APIs but also on other Agents.
Agent-Reg provides a heartbeat mechanism, where registered agents periodically notify the registry of their health status. This allows the registry to:</p><ul><li>Provide clients with real-time health status information</li><li>Automatically filter unresponsive agents from search results</li><li>Enable proactive monitoring and alerting for critical agents</li></ul><h2 id=data-model-and-a2a-compliance>Data Model and A2A Compliance</h2><p>Agent-Reg adheres to the A2A protocol specification for agent card structure, but it&rsquo;s obviously a simplified and extensible model. For example, it doesn&rsquo;t include specific SecurityScheme definitions in their 5 variants.
Below is a class diagram illustrating the logical data model:</p><div class=mermaid id=id-4></div><h2 id=backend-apis>Backend APIs</h2><p>Agent-Reg provides a complete REST API with some methods that implement the main operations:</p><table><thead><tr><th>Operation</th><th>Endpoint</th><th>Description</th></tr></thead><tbody><tr><td>Agent Registration</td><td><code>POST /agents/register</code></td><td>Register a new A2A-compliant agent</td></tr><tr><td>Agent Discovery</td><td><code>GET /agents</code></td><td>Search and filter agents with various criteria</td></tr><tr><td>Agent Details</td><td><code>GET /agents/{id}</code></td><td>Retrieve complete information about a specific agent</td></tr><tr><td>Health Check</td><td><code>POST /agents/{id}/heartbeat</code></td><td>Update agent liveness status</td></tr><tr><td>Invocation Info</td><td><code>GET /agents/{id}/invoke_url</code></td><td>Get direct invocation details</td></tr></tbody></table><h2 id=real-world-usage-example>Real-World Usage Example</h2><p>Let&rsquo;s see how Agent-Reg works in practice. Imagine you&rsquo;re building a travel planning application that needs to find a route planning agent with real-time traffic capabilities:</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-bash"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Search for agents with route planning skills and streaming capability</span>
</span></span><span class=line><span class=cl>curl <span class=s2>&#34;http://localhost:8000/agents?skill=route-optimizer-traffic&amp;capabilities=streaming&amp;only_alive=true&#34;</span></span></span></code></pre></div></div><p>The registry will return only active agents that match these criteria, complete with their invocation URLs, security requirements, and capability details.</p><p>At the user interface level, you can do the same thing through the search bar.
<a href=/images/2025/agent-registry-search.png><img src=/images/2025/agent-registry-search.png alt="Agent Registry Search"></a></p><h2 id=why-agent-reg>Why Agent-Reg?</h2><p>Agent-Reg tries to solve the Discovery problem within an A2A-compliant agents ecosystem and can be potentially useful also for addressing security and governance issues in agent-based applications.
I tried to summarize the main pillars on which I would like to make the tool evolve:</p><ol><li><strong>Interoperability</strong>: heterogeneous agents that adhere to the standard can work together without the need for point-to-point connections or complex and redundant integrations</li><li><strong>Discovery</strong>: Organizations can maintain a complete and constantly updated catalog of their Agents</li><li><strong>Reliability</strong>: The heartbeat mechanism ensures that clients interact only with responsive agents</li><li><strong>Scalability</strong>: The architecture can handle thousands of agents without complex infrastructure requirements</li><li><strong>Openness</strong>: It&rsquo;s an open-source solution that can be distributed anywhere, prevents vendor lock-in, and encourages innovation</li></ol><h2 id=getting-started>Getting Started</h2><p>Agent-Reg still lacks several functionalities and optimizations necessary before being able to actually use it in a production enviroment (e.g., authentication and authorization, error handling, logging, notifications, support for other NoSQL DBs, &mldr;), but it&rsquo;s a foundation on which to build a small open and extensible ecosystem.
Starting it&rsquo;s very simple:</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-bash"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Backend setup</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> backend/app
</span></span><span class=line><span class=cl>pip install -r requirements.txt
</span></span><span class=line><span class=cl>python src/main.py
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Frontend setup</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> frontend
</span></span><span class=line><span class=cl>npm install
</span></span><span class=line><span class=cl>npm start</span></span></code></pre></div></div><h1 id=conclusions>Conclusions</h1><p>In this period of strong acceleration about AI, the A2A protocol takes a very important step, because it brings together some basic concepts on which to build real standardization, but from this point of view, in my opinion, we are not yet in a maturity phase. The specifications themselves are not badly written, but they are quite generic (try yourself comparing them with other standards, like the <a href=https://datatracker.ietf.org/doc/html/rfc7540 target=_blank rel="noopener noreffer">HTTP/2</a> to understand what I mean&mldr;) and still leave many opportunities for extensions or integrations.
One of the important points that seems to have been overlooked is Discovery, for which I&rsquo;ve tried to imagine a centralized and open solution.</p><p><a href=https://github.com/c-daniele/agent-reg target=_blank rel="noopener noreffer">I&rsquo;m making it available to the community</a>, hoping that some volunteer can help me by contributing to its development! üòä</p><hr></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on August 15, 2025</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on X" data-sharer=x data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Building an Open Agent Registry for A2A Protocol" data-hashtags=GenAI,Langchain,Agents><i class="fab fa-x-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Threads" data-sharer=threads data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Building an Open Agent Registry for A2A Protocol"><i class="fab fa-threads fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-hashtag=GenAI><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Building an Open Agent Registry for A2A Protocol"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Building an Open Agent Registry for A2A Protocol"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@15.14.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on ÂæÆÂçö" data-sharer=weibo data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Building an Open Agent Registry for A2A Protocol"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Diaspora" data-sharer=diaspora data-url=https://c-daniele.github.io/en/posts/2025-08-15-agent-reg-for-a2a/ data-title="Agent-Reg: Building an Open Agent Registry for A2A Protocol" data-description><i class="fab fa-diaspora fa-fw" aria-hidden=true></i></a><a href="https://t.me/share/url?url=https%3a%2f%2fc-daniele.github.io%2fen%2fposts%2f2025-08-15-agent-reg-for-a2a%2f&amp;text=Agent-Reg%3a%20Building%20an%20Open%20Agent%20Registry%20for%20A2A%20Protocol" target=_blank title="Share on Telegram"><i class="fab fa-telegram fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/en/tags/genai/>GenAI</a>,&nbsp;<a href=/en/tags/langchain/>Langchain</a>,&nbsp;<a href=/en/tags/agents/>Agents</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/en/>Home</a></span></section></div><div class=post-nav><a href=/en/posts/2025-07-05-advanced-tecnique-for-analyzing-excel-files-with-llms/ class=prev rel=prev title="Beyond RAG: How to Effectively Analyze an Excel File Using an LLM"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Beyond RAG: How to Effectively Analyze an Excel File Using an LLM</a>
<a href=/en/posts/2025-08-31-alphaagents-a2a/ class=next rel=next title="AlphaAgents: Multi-Agent A2A Implementation for Collaborative Financial Analysis">AlphaAgents: Multi-Agent A2A Implementation for Collaborative Financial Analysis<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js></script><script>window.config={comment:{},search:{highlightTag:"em",lunrIndexURL:"/en/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script src=/js/theme.min.js></script><script>var dnt,doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8NZQZ3Z1RN")}</script><script src="https://www.googletagmanager.com/gtag/js?id=G-8NZQZ3Z1RN" async></script></body></html>